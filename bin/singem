#!/usr/bin/env ruby

require 'rubygems'
require 'rubigen'
require 'digest/sha1'

require 'rubigen/scripts/generate'

require "pp"
RubiGen::Base.use_application_sources! :rubygems
RubiGen::Base.prepend_sources(*[ 
  RubiGen::PathSource.new(:app, File.join(File.dirname(__FILE__), "..", "lib/generators"))
])

if ARGV.delete "--twitter"
  RubiGen::Scripts::Generate.new.run(ARGV, :generator => 'twitter', :backtrace => true)
else
  RubiGen::Scripts::Generate.new.run(ARGV, :generator => 'cucumber', :backtrace => true)
end
