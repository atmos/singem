ENV['RACK_ENV'] ||= 'development'
require File.join(File.dirname(__FILE__), '..', '..', 'lib', '<%= name %>')

gem "rack-test", ">=0.4.0"
gem "webrat", "~>0.4.4"
gem "cucumber", "~>0.3.91"
gem "fakeweb", ">=1.2.5"

require 'spec'
require 'spec/mocks'
require 'webrat'
require 'rack/test'
require 'dm-sweatshop'
require 'pp'

require File.dirname(__FILE__)+'/../../spec/helpers'

World(Rack::Test::Methods)
World(Spec::Mocks::ExampleMethods)
World(Webrat::Methods)
World(Webrat::Matchers)
World(<%= name.camelize %>::AppHelpers)

Before do
  DataMapper.setup(:default, "sqlite3://:memory:")
  DataMapper.auto_migrate!
end
